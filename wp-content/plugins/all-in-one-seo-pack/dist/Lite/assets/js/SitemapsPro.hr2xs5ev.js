import{G as N}from"./constants.fxxegv78.js";import{c as b,i as P,e as L,w as x,u as Z}from"./index.nsvc8vqf.js";import{a as q}from"./addons.foby19s7.js";import{g as B}from"./params.k8e95b6q.js";import{u as O}from"./Url.gcfjtds7.js";import{C as I,b as T,S as F}from"./Caret.hnvbzqgq.js";import{C as R}from"./Index.fywmukpg.js";import{C as Y}from"./Tooltip.jx4casvt.js";import"./translations.lf9cwm9a.js";import{v as g,o as n,c as l,a,m as C,t as r,b as d,k,l as h,x as m,G as y,C as f,E as G}from"./runtime-dom.esm-bundler.h3clfjuw.js";import{_ as w}from"./_plugin-vue_export-helper.oebm7xum.js";import{_ as t,a as z}from"./default-i18n.hohxoesu.js";const o="all-in-one-seo-pack",E={setup(){const{getHref:s}=O();return{GLOBAL_STRINGS:N,addonsStore:b(),getHref:s,licenseStore:P(),links:L,pluginsStore:x(),rootStore:Z()}},components:{CoreAlert:I,CoreLoader:T,CoreModal:R,CoreTooltip:Y,SvgClose:F},props:{feature:{type:Object,required:!0},canActivate:{type:Boolean,default(){return!0}},canManage:{type:Boolean,default(){return!1}},staticCard:Boolean},data(){return{addons:q,addon:{},showNetworkModal:!1,changeStatusOnNetwork:!1,failed:!1,loading:!1,featureUpgrading:!1,strings:{version:t("Version",o),updateToVersion:t("Update to version",o),activated:t("Activated",o),networkActivated:t("Network Activated",o),deactivated:t("Deactivated",o),notInstalled:t("Not Installed",o),upgradeToPro:t("Upgrade to Pro",o),upgradeYourPlan:t("Upgrade Your Plan",o),updateFeature:t("Update Addon",o),permissionWarning:t("You currently don't have permission to update this addon. Please ask a site administrator to update.",o),manage:t("Manage",o),requestFailed:t("An error occurred while changing the addon status. Please try again or contact support for more information.",o),updateRequired:z(t("An update is required for this addon to continue to work with %1$s %2$s.",o),"AIOSEO","Pro"),areYouSureNetworkChange:t("This is a network-wide change.",o),yesProcessNetworkChange:t("Yes, process this network change",o),noChangedMind:t("No, I changed my mind",o)}}},watch:{showNetworkModal(s){if(s){this.changeStatusOnNetwork=!1;return}this.changeStatusOnNetwork||(this.addon.isActive=!this.addon.isActive),this.changeStatusOnNetwork&&this.actuallyProcessStatusChange()}},computed:{networkChangeMessage(){return this.addon.isActive?t("Are you sure you want to activate this addon across the network?",o):t("Are you sure you want to deactivate this addon across the network?",o)},statusLabel(){return this.addon.isActive?!this.rootStore.aioseo.data.isNetworkAdmin&&this.addon.isNetworkActive?this.strings.networkActivated:this.strings.activated:this.addon.installed||this.addon.canInstall?this.strings.deactivated:this.strings.notInstalled}},methods:{closeNetworkModal(s){this.changeStatusOnNetwork=s,this.showNetworkModal=!1},processStatusChange(s){if(this.addon.isActive=s,this.rootStore.aioseo.data.isNetworkAdmin){this.showNetworkModal=!0;return}this.actuallyProcessStatusChange()},actuallyProcessStatusChange(){this.failed=!1,this.loading=!0;const s=this.addon.isActive?"installPlugins":"deactivatePlugins";this.pluginsStore[s]([{plugin:this.addon.basename}]).then(i=>{this.loading=!1,i.body.failed.length&&(this.addon.isActive=!this.addon.isActive,this.failed=!0)}).catch(()=>{this.loading=!1,this.addon.isActive=!this.addon.isActive})},processUpgradeFeature(){this.failed=!1,this.featureUpgrading=!0,this.pluginsStore.upgradePlugins([{plugin:this.addon.sku}]).then(s=>{if(this.featureUpgrading=!1,s.body.failed.length){this.addon.isActive=!1,this.failed=!0;return}this.addon=this.addons.getAddon(this.addon.sku)}).catch(()=>{this.featureUpgrading=!1,this.addon.isActive=!1})}},mounted(){this.addon=this.addons.getAddon(this.feature.sku);const s=B();!this.addon.isActive&&s["aioseo-activate"]&&s["aioseo-activate"]===this.addon.sku&&(this.loading=!0,this.addon.isActive=!0,this.pluginsStore.installPlugins([{plugin:this.addon.basename}]).then(()=>this.loading=!1).catch(()=>{this.loading=!1,this.addon.isActive=!this.addon.isActive}))}},D={class:"aioseo-feature-card"},W={class:"feature-card-header"},j={class:"feature-card-description"},J={key:0,class:"learn-more"},K=["href"],Q=["href"],X={key:1,class:"learn-more"},$=["href"],ee=["href"],se={key:0,class:"feature-card-install-activate"},te={key:1,class:"version"},oe={class:"status"},ne={key:1,class:"feature-card-upgrade-cta"},re={key:0},ae={key:1},ie={key:2,class:"feature-card-upgrade-cta"},de={class:"version"},le={key:0},ce={class:"aioseo-modal-body"},ue={class:"reset-description"};function he(s,i,_,c,e,u){const A=g("core-alert"),S=g("core-loader"),V=g("base-toggle"),v=g("base-button"),M=g("core-tooltip"),U=g("svg-close"),H=g("core-modal");return n(),l("div",D,[a("div",{class:y(["feature-card-body",{static:_.staticCard}])},[a("div",W,[C(s.$slots,"title")]),a("div",j,[C(s.$slots,"description"),(!e.addon.isActive||e.addon.requiresUpgrade)&&!_.staticCard?(n(),l("div",J,[a("a",{href:c.links.utmUrl("feature-manager-addon-link",e.addon.sku,e.addon.learnMoreUrl),target:"_blank"},r(c.GLOBAL_STRINGS.learnMore),9,K),a("a",{href:c.links.utmUrl("feature-manager-addon-link",e.addon.sku,e.addon.learnMoreUrl),class:"no-underline",target:"_blank"}," →",8,Q)])):d("",!0),e.addon.manageUrl&&(e.addon.isActive&&!e.addon.requiresUpgrade||_.staticCard)&&_.canManage?(n(),l("div",X,[a("a",{href:c.getHref(e.addon.manageUrl)},r(e.strings.manage),9,$),a("a",{href:c.getHref(e.addon.manageUrl),class:"no-underline"}," → ",8,ee)])):d("",!0),e.failed?(n(),k(A,{key:2,class:"install-failed",type:"red"},{default:h(()=>[m(r(e.strings.requestFailed),1)]),_:1})):d("",!0)])],2),_.canActivate?(n(),l("div",{key:0,class:y(["feature-card-footer",{"upgrade-required":e.addon.requiresUpgrade||!c.licenseStore.license.isActive}])},[!e.addon.requiresUpgrade&&c.licenseStore.license.isActive&&(!e.addon.installed||e.addon.hasMinimumVersion)?(n(),l("div",se,[e.loading?(n(),k(S,{key:0,dark:""})):d("",!0),!e.loading&&e.addon.installedVersion?(n(),l("span",te,r(e.strings.version)+" "+r(e.addon.installedVersion),1)):d("",!0),a("span",oe,r(u.statusLabel),1),e.addon.installed||e.addon.canInstall?(n(),k(V,{key:2,modelValue:e.addon.isActive,disabled:e.loading,"onUpdate:modelValue":i[0]||(i[0]=p=>u.processStatusChange(p))},null,8,["modelValue","disabled"])):d("",!0)])):d("",!0),e.addon.requiresUpgrade||!c.licenseStore.license.isActive?(n(),l("div",ne,[f(v,{type:"green",size:"medium",tag:"a",href:c.links.getUpsellUrl("feature-manager-upgrade",e.addon.sku,c.rootStore.isPro?"pricing":"liteUpgrade"),target:"_blank"},{default:h(()=>[c.rootStore.isPro?(n(),l("span",re,r(e.strings.upgradeYourPlan),1)):d("",!0),c.rootStore.isPro?d("",!0):(n(),l("span",ae,r(e.strings.upgradeToPro),1))]),_:1},8,["href"])])):d("",!0),c.rootStore.isPro&&!e.addon.requiresUpgrade&&e.addon.installed&&!e.addon.hasMinimumVersion?(n(),l("div",ie,[e.addon.isActive&&!e.loading?(n(),k(M,{key:0},{tooltip:h(()=>[m(r(e.strings.updateRequired)+" ",1),e.addons.userCanUpdate(e.addon.sku)?d("",!0):(n(),l("strong",le,r(e.strings.permissionWarning),1))]),default:h(()=>[a("span",de,r(e.strings.updateToVersion)+" "+r(e.addon.minimumVersion),1)]),_:1})):d("",!0),f(v,{type:"blue",size:"medium",onClick:u.processUpgradeFeature,loading:e.featureUpgrading,disabled:!e.addons.userCanUpdate(e.addon.sku)},{default:h(()=>[m(r(e.strings.updateFeature),1)]),_:1},8,["onClick","loading","disabled"])])):d("",!0)],2)):d("",!0),f(H,{show:e.showNetworkModal,"no-header":"",onClose:i[4]||(i[4]=p=>u.closeNetworkModal(!1)),classes:["aioseo-feature-card-modal"]},{body:h(()=>[a("div",ce,[a("button",{class:"close",onClick:i[1]||(i[1]=G(p=>u.closeNetworkModal(!1),["stop"]))},[f(U)]),a("h3",null,r(e.strings.areYouSureNetworkChange),1),a("div",ue,r(u.networkChangeMessage),1),f(v,{type:"blue",size:"medium",onClick:i[2]||(i[2]=p=>u.closeNetworkModal(!0))},{default:h(()=>[m(r(e.strings.yesProcessNetworkChange),1)]),_:1}),f(v,{type:"gray",size:"medium",onClick:i[3]||(i[3]=p=>u.closeNetworkModal(!1))},{default:h(()=>[m(r(e.strings.noChangedMind),1)]),_:1})])]),_:1},8,["show"])])}const Fe=w(E,[["render",he]]),ge={},fe={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_e=a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11 15H7C5.35 15 4 13.65 4 12C4 10.35 5.35 9 7 9H11V7H7C4.24 7 2 9.24 2 12C2 14.76 4.24 17 7 17H11V15ZM17 7H13V9H17C18.65 9 20 10.35 20 12C20 13.65 18.65 15 17 15H13V17H17C19.76 17 22 14.76 22 12C22 9.24 19.76 7 17 7ZM16 11H8V13H16V11Z",fill:"currentColor"},null,-1),pe=[_e];function me(s,i){return n(),l("svg",fe,pe)}const Re=w(ge,[["render",me]]),ve={},ke={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-redirect"},we=a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.59 9.17L5.41 4L4 5.41L9.17 10.58L10.59 9.17ZM14.5 4L16.54 6.04L4 18.59L5.41 20L17.96 7.46L20 9.5V4H14.5ZM13.42 14.82L14.83 13.41L17.96 16.54L20 14.5V20H14.5L16.55 17.95L13.42 14.82Z",fill:"currentColor"},null,-1),Ce=[we];function ye(s,i){return n(),l("svg",ke,Ce)}const Ye=w(ve,[["render",ye]]),Ae={},Se={viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"aioseo-sitemaps-pro"},Ve=a("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M23.45 3.5H4.55C3.96667 3.5 3.5 3.96667 3.5 4.55V23.45C3.5 23.9167 3.96667 24.5 4.55 24.5H23.45C23.9167 24.5 24.5 23.9167 24.5 23.45V4.55C24.5 3.96667 23.9167 3.5 23.45 3.5ZM10.5 8.16667H8.16667V10.5H10.5V8.16667ZM19.8333 8.16667H12.8333V10.5H19.8333V8.16667ZM19.8333 12.8333H12.8333V15.1667H19.8333V12.8333ZM12.8333 17.5H19.8333V19.8333H12.8333V17.5ZM8.16667 12.8333H10.5V15.1667H8.16667V12.8333ZM10.5 17.5H8.16667V19.8333H10.5V17.5ZM5.83333 22.1667H22.1667V5.83333H5.83333V22.1667Z",fill:"currentColor"},null,-1),Me=[Ve];function Ue(s,i){return n(),l("svg",Se,Me)}const Ge=w(Ae,[["render",Ue]]);export{Fe as C,Re as S,Ye as a,Ge as b};
